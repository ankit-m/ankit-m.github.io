<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Ankit Muchhala]]></title><description><![CDATA[This is my website where I share things I like - tech, food, football, F1, comics, etc.]]></description><link>https://ankit-m.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 26 Oct 2021 21:23:14 GMT</lastBuildDate><item><title><![CDATA[In the Plex - Book Review]]></title><description><![CDATA[On the face of it, the book can be looked at as a story of Google - from a niche startup to the industry behemoth we know today. While that…]]></description><link>https://ankit-m.github.io/in-the-plex-review/</link><guid isPermaLink="false">https://ankit-m.github.io/in-the-plex-review/</guid><pubDate>Fri, 30 Oct 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;On the face of it, the book can be looked at as a story of Google - from a niche startup to the industry behemoth we know today. While that is the overall theme, it goes much deeper than that and tries to answer the question - what makes Google tick? It is an ode to the spirit of constantly questioning the status-quo and trying to build truly revolutionary things. This evident from the inception of Google when Larry Page wanted to index the whole internet - something which was thought impossible in the early 2000s.&lt;/p&gt;
&lt;p&gt;Larry Page did not start with the aim to build a search engine. The original goal of the research project was  to find out most relevant comments on a given web page. From that the idea evolved into finding the most relevant web pages - Google. The breakthrough, which book talks about in depth, was the idea that number of links to a given web page (back-links) is an indicator of its popularity and relevance. And indeed, the original name of search algorithm was “Backrub”. Larry’s desire to build a knowledge repository for the world and not to be “Tesla-ed” (referring to Edison vs. Tesla) led him to not publish his research and start a company with Sergey Brin.&lt;/p&gt;
&lt;p&gt;From then on, they faced 2000s version of a startup life - money crunch, constant firefighting, running servers, need for an experienced CEO etc. Work from these early days is the start of many things which we consider industry-standard today. However, while Google was a leading search provider, it was not always flush with cash. This where Google built its ad empire. It is an amalgamation of technology, economic theory (auction models) and an age-old way of making money (ads).&lt;/p&gt;
&lt;p&gt;Google could provide all its services for free and make money from ads. The mantra was simple, the more people use internet, more money Google makes. &lt;/p&gt;
&lt;p&gt;While Chrome, Docs, Analytics and other products were huge hits, not everything went Google’s way in the social network world. It was caught chasing tail lights with Wave, Plus, and other such products.&lt;/p&gt;
&lt;p&gt;Throughout the book, what is most interesting is the story behind “how” each product came into being. How engineers took charge and sometimes went nuts to build an industry defining product.&lt;/p&gt;
&lt;h3&gt;Learnings and Takeaways&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Data is the great leveller&lt;/strong&gt;: Everything at Google has to be proved by data. Which design works better? Where to invest money? How to design datacenters? Who do we hire? All of these questions have to be answered with data. This idea is key to aligning teams and allowing everyone to contribute to the product - all they have to do is use data to make their case.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Auction models&lt;/strong&gt;: Google ads used the 2nd price auction (Vickery auction) model for bidding of ad position. Although counterintuitive, this model increases the depth by making the top spot less elusive at the same time reducing buyer’s remorse.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Business model&lt;/strong&gt;: Give the razor for free and make money on blades. This has been a very old business model. But in the internet era, there is an equivalent of it. You give away the product for free and make money on the backend services. Postman is based on a similar model.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hiring&lt;/strong&gt;: At Google, recruiters always looked out for one truly distinct capability or achievement. If someone has spent the time and effort to become a world foosball champion, they sure have the capability to learn sales. Trying to apply this principle for hiring for our team.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Do first, apologize later&lt;/strong&gt;: Google’s engineers are notorious for this. It is how Gmail and other major products came into being. If you want to do something, rather than waiting around, you do it and then show people the value. Seems like a good principle to start something new   .&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Thinking, Fast and Slow - Book Review]]></title><description><![CDATA[Daniel Kahneman writes the book with a simple goal - Enable the reader to have smarter water cooler conversations. Drawing on his research…]]></description><link>https://ankit-m.github.io/thinking-fast-and-slow-review/</link><guid isPermaLink="false">https://ankit-m.github.io/thinking-fast-and-slow-review/</guid><pubDate>Sun, 18 Oct 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0ea7285407fc3f8c6c3b14790bebd384/9d755/thinking-fast-and-slow-book.webp&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/webp;base64,UklGRoYAAABXRUJQVlA4IHoAAADwAwCdASoUAA0APtFUo0uoJKMhsAgBABoJYwC/OBeP9gOdUV47UdMAAP7Q29ngRD5gaarBDnkYKe3bCfqjGQqTCz9UvUiUQVkzLjnYubf0NF++IhTOi2lRuovKlkeEorgfsmPg+mlqiMsB5xl0rZLa1Dl5tdVwEkM4AA==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;thinking fast and slow book&quot;
        title=&quot;thinking fast and slow book&quot;
        src=&quot;/static/0ea7285407fc3f8c6c3b14790bebd384/8aab1/thinking-fast-and-slow-book.webp&quot;
        srcset=&quot;/static/0ea7285407fc3f8c6c3b14790bebd384/81b7c/thinking-fast-and-slow-book.webp 158w,
/static/0ea7285407fc3f8c6c3b14790bebd384/6ea66/thinking-fast-and-slow-book.webp 315w,
/static/0ea7285407fc3f8c6c3b14790bebd384/8aab1/thinking-fast-and-slow-book.webp 630w,
/static/0ea7285407fc3f8c6c3b14790bebd384/a70f5/thinking-fast-and-slow-book.webp 945w,
/static/0ea7285407fc3f8c6c3b14790bebd384/4ef06/thinking-fast-and-slow-book.webp 1260w,
/static/0ea7285407fc3f8c6c3b14790bebd384/9d755/thinking-fast-and-slow-book.webp 2070w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Daniel Kahneman writes the book with a simple goal - &lt;em&gt;Enable the reader to have smarter water cooler conversations&lt;/em&gt;. Drawing on his research, spanning decades, he presents an introduction to cognitive psychology and how it applies to a variety of scenarios - from day-to-day life to economic theory.&lt;/p&gt;
&lt;p&gt;The book uses two &lt;strong&gt;imaginary&lt;/strong&gt; systems in our mind, System 1 (causal) and System 2 (analytical), to explain how humans behave and make decisions in different circumstances. There are a dizzying number of experiments which make you question whether your brain is nothing but a lump of squishy mass. The purpose of these behavioural experiments is to highlight “how” and “why” you make certain decisions in different scenarios.&lt;/p&gt;
&lt;p&gt;For example, Max is a soft spoken man in his 40s who wears glasses and likes meditation. Is Max likely to be a librarian or a farmer? I bet you thought librarian, just like I did. But purely from a statistical perspective, there are a lot more farmers than there are librarians. So our rational guess should be a farmer. System 1 forces us to think causally - a soft spoken man, spectacled man who likes meditation has to be a librarian. But alas, we don’t have enough evidence to refute statistics. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What you see is all there is.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;One of the biggest application of understanding human decision making is in economic theory. How we make decisions when there are monetary gains and losses involved. This part of the book primarily focuses on &lt;em&gt;expected utility theory.&lt;/em&gt;In a nutshell, if I give you a gamble where you have 20% chance of losing $10 and 80% of winning $90. Would you take it? Contrary to &lt;em&gt;utility theory&lt;/em&gt;, it depends on the amount of money you have. If you have $50, you are less likely to take the gamble as compared to if you have $500.&lt;/p&gt;
&lt;p&gt;While economic applications of decision making are logical, I did not expect it to be applied to how we reflect on our lives. The most striking of these is “peak-end and duration neglect” - we tend to evaluate our lives by recent memories and the peaks in the past, neglecting the things in between.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Humans, unlike econs, need help in making decisions.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The book provides the tools to do so.&lt;/p&gt;
&lt;h2&gt;Learnings and Takeaways&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Take a step back and think&lt;/strong&gt;: This is a gross generalization of the whole book. But through experiments and real-world examples, it proves that in many scenarios just taking a step back and thinking about the outcomes, with the right decision making tools, can help us achieve better outcomes. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Respect Randomness&lt;/strong&gt;: There are lot of patterns in the world. While many of them have a cause, others  are just due to chance and randomness. Your favourite team might have won 3 straight championships, and is languishing somewhere in the middle this year. This could just be regression to mean.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Law of large numbers&lt;/strong&gt;: As the famous saying goes, 2 points don’t make a trend. It is fair to say that even 3 or 4 might not be enough to justify a trend. It is crucial to evaluate the sample set size before making any assertions.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Long trades&lt;/strong&gt;: Although I am not into stock trading, the book makes a very convincing statistical and psychological argument as to why an investor should look for long-term trades rather than short-term gains. One simple way to start doing this is by checking your investment app less often.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hiring&lt;/strong&gt;: Making a conscious attempt to avoid Halo effect and decision bias.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[The Project Phoenix - Book Review]]></title><description><![CDATA[I never thought that I won’t be able to put down a book related to DevOps and it will end up being one of the most riveting stories I’ve…]]></description><link>https://ankit-m.github.io/project-phoenix-review/</link><guid isPermaLink="false">https://ankit-m.github.io/project-phoenix-review/</guid><pubDate>Sun, 20 Sep 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I never thought that I won’t be able to put down a book related to DevOps and it will end up being one of the most riveting stories I’ve ever read. Alas! I was wrong.&lt;/p&gt;
&lt;p&gt;The book, as the name suggests, is about major initiative, named &lt;em&gt;Project Phoenix&lt;/em&gt;, at a struggling auto parts company &lt;em&gt;Parts Unlimited&lt;/em&gt;. It primarily revolves around &lt;em&gt;Bill&lt;/em&gt; who suddenly finds himself as acting &lt;em&gt;VP of IT&lt;/em&gt; in charge of delivering this project.&lt;/p&gt;
&lt;p&gt;We follow Bill in a rollercoaster journey of constant firefighting, as he navigates the minefield of interfacing with development, marketing and compliance to bring sanity in the IT department. There is of course a backdrop of internal company politics. However, the book is not solely about DevOps or even IT. I would characterize it as a book on how to work in a team.&lt;/p&gt;
&lt;p&gt;It brings up the key points in an organic fashion and in the context of the story, which helps you answer questions like - Why Kanban? Why deployment pipelines? Why packaging? Although most developers  already rely on these, it is nice to see how we got here.&lt;/p&gt;
&lt;h3&gt;Learnings and Takeaways&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;The Three Ways&lt;/strong&gt;:
First way - Systems thinking. Don’t think in silos, think about the whole systems.
Second way - Amplify feedback loops.
Third way - Culture of continual experimentation and learning&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Delivering content&lt;/strong&gt;: This book could easily have been about presenting “The Three Ways” in an academic format - theory, proof and examples. But the way these concepts were etched into a beautifully crafted story made me appreciate the reasoning and motivation behind them. Moreover, I think this book is a perfect example of how content can be presented to have maximum impact.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Looking outside the tech bubble:&lt;/strong&gt; Throughout the book, there is constant reference to the manufacturing industry and drawing parallels with how a factory works. While these are very interesting parallels, it reminds me that problems (and solutions) may not necessarily be unique to your field. If you look outside, maybe you can draw some inspiration from other fields.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Trust&lt;/strong&gt;: We know how important trust is in any sort of team. However, I have never seen it conveyed in such an elegant form (some parts might bring a lump in your throat). I think the book does a great job of underlining a crucial component building trust - &lt;em&gt;vulnerability&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[UI Testing with Postman]]></title><description><![CDATA[Postman is a tool commonly used to work with APIs. It provides an easy way to make HTTP calls and run scripts during various phases of the…]]></description><link>https://ankit-m.github.io/ui-testing-in-postman/</link><guid isPermaLink="false">https://ankit-m.github.io/ui-testing-in-postman/</guid><pubDate>Fri, 01 Nov 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.getpostman.com/&quot;&gt;Postman&lt;/a&gt; is a tool commonly used to work with APIs. It provides an easy way to make HTTP calls and run scripts during various phases of the request. We can leverage these features for &lt;strong&gt;continuous and automated&lt;/strong&gt; UI testing.&lt;/p&gt;
&lt;p&gt;This article outlines a few ways of using Postman to test various aspects of a UI viz. performance, functionality, security, integrity and accessibility. We will also look at how to run these tests periodically and get notified about the results.&lt;/p&gt;
&lt;h2&gt;0. Setup and Postman Primer&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/33ae76aa12e849044db606590f23a4f5/e8950/postman-primer.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADAklEQVQ4yzVSy47kRBDsO3xDw8602+VnlV0vv122d1ngA7ggcViLAwekOU0L7bLdM9NaDSeE+Bv+CNRXDnjdFcjdcAhFZkQqDpm5+uP3/f2vvzzvPjw/3z8+Pu7evn23e/fz+937/X53OBx2x+Nxt3942D0djxdtfzjsDof9pf7tw353fHq6Pzw8/HQ8Hn+8u7v7dPXd6xpDW6PrOtRVhbau0JQFMq2hlEJRFJe+LgooKS+aVgpCSrxqS7x+2aOrCxhjZpYkn68SqT5qradSy6nL1fR1W09fNtXUaTXVgk+NSKdBpJMR6dQIftEWVIvH6ZQN3/yTfvUDOpn8SVO5XmklkStpk5RbJThEkoBSioQxUEahE4acUaT0CkpjsP/9OESU6nMsaqQ0PmV5sV45joPQ3VrHcSwNA4iEIQ4CsDBE7PmIfB80DBF6HiLfQ+R5oEEATimiIEDskzMLCPI0OSml1itCCAghduu6VtIIdZGjLjWqUiBXFDKNIHkIkYZQlEGwCJyFkDyCFBE4Z2cpGEqZnkTK1yvXdREQYiPiWuZ54DzGF0OKvmMYeo6+SzD0KYaFzcIpepOgW7hfPHF+2XNUmp04U9dAjxDrE9dSz4NUHK+GEnWToWkVurZEV2mYNkNpClRdgabJYcrlsjlqk5+XLyg5O3Gpr4EuIZa4ro19D0IKdMOApmnRNBUG02IwBtWyhrZC33To2g5tU6LOS7SmPVdVjVLykxDyGkj+C6S+Z3kibNtUtqpKmxWNLerMFsbYvC6tyrXVOrdalzbNCquK0qqyPossQybEKZPpJfDsuu5MXHemvjdzns5Fa+asaebMdLNo+1l3zay6bpZtf9Hzuph1ZebSLDPNx6wpIHn8l3frrFee5+ECQsCCAFowmHa5skJdSpjmur86T6FEDC0iKBFBixiZpCg0hRIUPAz+9on32coj7hvHccbbzWb0nc2YuM6YbDcj296ObLv0S+2M0WYzhjc3FwQ3NyNztyPd3I6J47yRQfB96pNv1y9efPIvma2RsgLDhYAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Postman basics&quot;
        title=&quot;Postman basics&quot;
        src=&quot;/static/33ae76aa12e849044db606590f23a4f5/f058b/postman-primer.png&quot;
        srcset=&quot;/static/33ae76aa12e849044db606590f23a4f5/c26ae/postman-primer.png 158w,
/static/33ae76aa12e849044db606590f23a4f5/6bdcf/postman-primer.png 315w,
/static/33ae76aa12e849044db606590f23a4f5/f058b/postman-primer.png 630w,
/static/33ae76aa12e849044db606590f23a4f5/40601/postman-primer.png 945w,
/static/33ae76aa12e849044db606590f23a4f5/78612/postman-primer.png 1260w,
/static/33ae76aa12e849044db606590f23a4f5/e8950/postman-primer.png 2000w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Postman primarily provides you with an environment to create and interact with APIs. It can also be used to request web pages (just like a browser). Enter the URL in the address bar and hit send to see the HTML response. Postman can run scripts before sending the request (&lt;strong&gt;Pre-request scripts&lt;/strong&gt;) and after obtaining the response (&lt;strong&gt;Tests&lt;/strong&gt;). Each request is stored in a _collection,_which can be run to execute all requests in order.&lt;/p&gt;
&lt;p&gt;If you have never used Postman, head over to the &lt;a href=&quot;https://learning.getpostman.com/&quot;&gt;Learning Center&lt;/a&gt; for more information.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Postman does not evaluate JS or external CSS on a webpage. A few techniques described here might not work for pages which are rendered client side or which rely heavily on JavaScript.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;1. Performance&lt;/h2&gt;
&lt;p&gt;Various factors affect the performance of a webpage — time to receive data from the server, first meaningful render, etc.&lt;/p&gt;
&lt;p&gt;/We will create a new request for each type of test and add the corresponding code snippets in the/&lt;em&gt;Tests&lt;/em&gt;/tab. At any point, you can use the or directly import the in Postman./ &lt;a href=&quot;https://documenter.getpostman.com/view/1411527/SW12zxWj&quot;&gt;reference collection&lt;/a&gt; &lt;a href=&quot;https://explore.postman.com/templates/4238&quot;&gt;template&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Response time&lt;/strong&gt;: This is the time it took for a client to receive the complete response (HTML in this case) after making the request. We can set maximum response time threshold.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ONE_SECOND&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“Response time is less than &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; second”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseTime&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;below&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ONE_SECOND&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Headers&lt;/strong&gt;: Response headers can be used to check server configuration for caching and encoding of the data. These help you improve the page load time and reduce number of bytes transmitted over the network.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“Cache control header should be &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt; days”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“Cache&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Control”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; “max&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;age&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1209600&lt;/span&gt;”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“Content encoding should be &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; to gzip”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“Content&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Encoding”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; “gzip”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Response size&lt;/strong&gt;: The actual size of your first response (HTML page).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“Response size is less than &lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;KB”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseSize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;below&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;35000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PageSpeed Insights API&lt;/strong&gt;: Google provides a feature rich &lt;a href=&quot;https://developers.google.com/speed/docs/insights/v5/get-started&quot;&gt;PageSpeed&lt;/a&gt; API to evaluate the performance of any webpage. You can call the API from Postman and assert on the results to set benchmarks for your UI.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// GET https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url={{url}}&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;“PageSpeed score should be within &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt; and &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;”&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; score &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lighthouseResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;categories&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;score&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;score &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;within&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2. Functionality&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Status code&lt;/strong&gt;: Response status is the most basic test for uptime. If the server returns an unexpected status code, your web page might not be working correctly.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Status code is 200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Page structure&lt;/strong&gt;: You can evaluate the response markup for sanity checks using cheerio library. These can check for presence of necessary tags and critical elements.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; cheerio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cheerio&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cheerio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Page title should be set&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ankit Muchhala&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Page should have header and footer tags&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;header&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exist&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;footer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exist&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Headers&lt;/strong&gt;: Basic tests can be written for response headers which determine the functionality of the webpage — &lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Set-Cookie&lt;/code&gt;, etc.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Manifest&lt;/strong&gt;: If you are building a web app/PWA to be installed on mobile devices, your application should serve a manifest.json file and have a corresponding link in the head tag.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Manifest file should exist&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Add more tests to check manifest file&lt;/span&gt;
pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Manifest should have valid fields&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; jsonData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jsonData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ankit Muchhala&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Service worker&lt;/strong&gt;: If you have a service worker file, you can check for its existence and content.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Service worker file should exist&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;application/javascript&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;3. Security&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTPS and HSTS&lt;/strong&gt;: If you want the communication between client and server to be secure, your webpage must be served over HTTPS. You also need to ensure that all insecure calls (HTTP) are redirected to the secure protocol. You can also set the &lt;code class=&quot;language-text&quot;&gt;Strict-Transport-Security&lt;/code&gt; header to tell the browsers to connect to your servers &lt;strong&gt;only&lt;/strong&gt; through a secure protocol.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Response should have status code is 301&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;301&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Response should redirect to secure URL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Location&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;https://&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;environment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;host&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Strict-Transport-Security header should be set&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Strict-Transport-Security&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;max-age=300; includeSubDomains&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Headers&lt;/strong&gt;: There are security headers which you can utilize to achieve certain security benefits. Ex. &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;X-Frame-Options&lt;/code&gt;, etc. You can find a complete list here and add tests for the ones you are using.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No referrer&lt;/strong&gt;: You can also run some sanity tests on the HTML to check for common security issues — using &lt;code class=&quot;language-text&quot;&gt;eval&lt;/code&gt;, unnecessary &lt;code class=&quot;language-text&quot;&gt;iframes&lt;/code&gt; or inline JavaScript. One such test is to verify that all &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; tags with &lt;code class=&quot;language-text&quot;&gt;target=&amp;quot;_blank&amp;quot;&lt;/code&gt; (i.e. links which open in a new tab/window) have &lt;code class=&quot;language-text&quot;&gt;rel=&amp;quot;noopener noreferrer&amp;quot;&lt;/code&gt;. This means that the newly opened tab will not have access your webpage via &lt;code class=&quot;language-text&quot;&gt;document.referrer&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; cheerio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cheerio&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cheerio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;All external ... valid attributed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;target&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;_blank&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;rel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;noopener noreferrer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;href&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Robots.txt&lt;/strong&gt;: This file resides at the root level &lt;code class=&quot;language-text&quot;&gt;/robots.txt&lt;/code&gt; and specifies how web crawlers (like Google’s bot) should interact with your webpages. Even though it does not &lt;strong&gt;enforce&lt;/strong&gt; anything — evil bots might simply ignore — it is a good practice to have a &lt;code class=&quot;language-text&quot;&gt;robots.txt&lt;/code&gt; file which clearly denotes which routes are allowed to be crawled.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;robots.txt file should exist&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// add specific tests for your robots.txt file&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. Integrity&lt;/h2&gt;
&lt;p&gt;These tests verify that your webpage is serving data from verified sources and links to pages which are valid.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Link validity&lt;/strong&gt;: Often you want to verify that all links in your page are valid and that they don’t lead the user to a webpage which is unavailable. The following script finds all the links in your webpage and checks if they exist (i.e. making a &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt; request returns a &lt;code class=&quot;language-text&quot;&gt;200&lt;/code&gt; status code). We make use of the &lt;strong&gt;pm.sendRequest&lt;/strong&gt; method here.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; cheerio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cheerio&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cheerio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;All links on the page should be valid&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; originalPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;href&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; originalPath&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;environment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Link with href &quot;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; originalPath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot; should be valid&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          pm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;OK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CSP&lt;/strong&gt;: Content Security Policy headers specify a list of valid sources for different types of content which the browser can execute. For example, you can say — allow JavaScript to be loaded from the current domain (&lt;code class=&quot;language-text&quot;&gt;self&lt;/code&gt;) and &lt;code class=&quot;language-text&quot;&gt;getpostman.com&lt;/code&gt;. The browser will block other sources from executing content. This helps safeguard your application in case someone has injected malicious code into it. &lt;strong&gt;Note: CSP checks are browser dependent and should not be used as a sole line of defence.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;5. Accessibility&lt;/h2&gt;
&lt;p&gt;All modern webpages are expected to be mobile friendly and accessible for users with disabilities. This means using semantically correct HTML tags, ARIA labels and relevant attributes like &lt;code class=&quot;language-text&quot;&gt;alt&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;role&lt;/code&gt;. As illustrated before, you can use cheerio to write tests for these.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Running your Tests&lt;/h2&gt;
&lt;p&gt;There are multiple ways to run your collection.&lt;/p&gt;
&lt;h3&gt;In Postman&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Click on your collection in the sidebar&lt;/li&gt;
&lt;li&gt;Click on Run. This opens the Collection Runner&lt;/li&gt;
&lt;li&gt;Configure your options and Run!&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
  &lt;img src=&quot;/460f152f43d67fe787a623719c051a9c/collection-runner.gif&quot; alt=&quot;Running tests via Collection Runner&quot;&gt;
  &lt;figcaption&gt;Running tests via Collection Runner&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;In CLI&lt;/h3&gt;
&lt;p&gt;You can run the collection in CLI using newman using newman run command.&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;/89f56d610aa89d254f8d2c0d712dd1f4/newman.gif&quot; alt=&quot;Taken from Postman Learning Center&quot;&gt;
  &lt;figcaption&gt;Taken from Postman Learning Center&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;In Postman Monitors&lt;/h3&gt;
&lt;p&gt;You can setup a monitor to run your tests periodically and also pipe those results to slack.&lt;/p&gt;
&lt;p&gt;There are a lot of other tests which can be performed on web pages in Postman. If you have any in mind, please let me know in the comments.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Why should I write good commit messages?]]></title><description><![CDATA[As a fresh graduate, I was excited at the prospect of writing code for a product used by millions of users. I could not wait send my first…]]></description><link>https://ankit-m.github.io/why-should-i-write-good-commit-messages/</link><guid isPermaLink="false">https://ankit-m.github.io/why-should-i-write-good-commit-messages/</guid><pubDate>Fri, 05 Jul 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a fresh graduate, I was excited at the prospect of writing code for a product used by millions of users. I could not wait send my first PR and get it merged. Little did I know that the first comments I would receive were not about my code but about my commit messages and how they need to be better.&lt;/p&gt;
&lt;p&gt;The young me thought, “Why is that important? Who cares about messages? It is the code which matters.” Two years later, after working on multiple projects, reviewing countless PRs and going through a plethora of public packages, I realize just how wrong I was. Over the course of this article, I would like to describe various scenarios which made me appreciate the importance of writing good commit messages.&lt;/p&gt;
&lt;p&gt;There are a lot of good &lt;a href=&quot;https://chris.beams.io/posts/git-commit/&quot;&gt;articles and blogposts&lt;/a&gt; about how to write commit messages with a list of dos and don’ts. Here, I my focus is on why you should do that.&lt;/p&gt;
&lt;h2&gt;1. Production Issues&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Tom, Sr. Software Engineer&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Saturday, 2.31 AM — phone ringing.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Tom answers his phone and finds out that paid users are unable to login and cannot do anything. A chill goes up his spine. At the back of his mind, he knew he shouldn’t have deployed on a Friday. Yet, he did and there it is.&lt;/p&gt;
&lt;p&gt;He opens his laptop and checks for server alarms — Elevated server errors. To find out what caused this, he opened the server error logs and finds out&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;TypeError: Cannot read property “id” of undefined
25:13 /api/controllers/LoginController.js
192:17 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;“Aha!”, he exclaims. He unleashes his weapon of choice — git.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; blame api/controllers/LoginController.js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And there it is&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;...
f4f78b31 25) if (user.team.id &amp;gt; 1)
f4f78b31 26)     return teamLogin();
f4f78b31 26) else
f4f78b31 27)     return userLogin();
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The bug was right there. Unsafe access for the property id. What if a user does not belong to a team? The &lt;code class=&quot;language-text&quot;&gt;team&lt;/code&gt; property will not exist. So all non-team users are not be able to login.&lt;/p&gt;
&lt;p&gt;To fix this simply replace &lt;em&gt;Line 25&lt;/em&gt; with &lt;code class=&quot;language-text&quot;&gt;user.team&lt;/code&gt; &amp;#x26;&amp;#x26; &lt;code class=&quot;language-text&quot;&gt;user.team.id&lt;/code&gt;. Easy! Right?&lt;/p&gt;
&lt;p&gt;Not so fast. What about team with ID &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;? Why are team login and user login different? Why was this change made? Is team ID &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt; possible? To better understand the problem, Tom decided to dig further.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git show f4f78b31

commit f4f78b319c308600eab015a5d6529add21660dc1
Author: Jerry
Date: Fri Mar 13 10:12:29 2019 +0330

   update login flow         &amp;lt;- 😩😩😩😩
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here is the problem — The commit message is vague and does not tell Tom anything more than the actual code diff. He already knows that the login flow was updated. He is looking for more information to &lt;em&gt;help him understand&lt;/em&gt; the code change. A better commit message could be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Create a new login page for team users

We want to capture team names in the login flow for paid users. This commit shows the new login page for users with a valid team ID.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This commit messages conveys a lot more information about why the change was made? Tom also knows who this change is meant for. This, combined with inline comments, will help him make a much more informed decision.&lt;/p&gt;
&lt;h2&gt;2. Understanding why&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Calvin, Intern&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Monday, 8.36 AM&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Calvin has been assigned a getting-started issue for a Google Maps-like project. His task is to add a configuration for grocery stores. He is to use this opportunity to familiarize himself with the codebase.&lt;/p&gt;
&lt;p&gt;He starts off with &lt;code class=&quot;language-text&quot;&gt;README.md&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;IMPLEMENTATION.md&lt;/code&gt; files to get an overview of the project. After digging around for a while he figures out that the changes are to me made in &lt;code class=&quot;language-text&quot;&gt;config/maps/elements.js&lt;/code&gt;. He has to add a JSON configuration for the key &lt;code class=&quot;language-text&quot;&gt;grocery-store&lt;/code&gt;. Interestingly, he comes across this piece of code&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;if (type === &amp;#39;hospital&amp;#39; || type === &amp;#39;pharmacy&amp;#39;) {
    config = getConfigFromAPI();
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;“Why is there a special handling for hospitals and pharmacies? Do I need add special handling for grocery stores?”, he thinks. He looks at the commit message.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;commit f4f78b319c308600eab015a5d6529add21660dc1
Author: Hobbes
Date: Fri Mar 11 10:10:21 2018 +0530

add safe checks in element config    &amp;lt;- 🤔
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;While this message does tell you that the condition is a safe check, it still does not give you the full picture. Like previous section, it does not tell you &lt;em&gt;why&lt;/em&gt; the change was made. A better commit message could be&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;fetch map element config from API for emergency buildings
to avoid stale information&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This clearly conveys the purpose of the code change and provides sufficient information for the reader to make a decision. Calvin can infer that special handling is only for emergency buildings and is not required for a grocery store.&lt;/p&gt;
&lt;p&gt;Here, a good commit message helped a new developer understand parts of the codebase without asking anyone for help. In this respect, commit messages are a second string of documentation for your code.&lt;/p&gt;
&lt;h2&gt;3. Reviewing code&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Wilma, Project Lead&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Friday, 3.04 PM&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Fred has requested a code a review from Wilma for a major change in the team admin view. Wilma pulls the branch on her machine and tests out the changes — they seem to be working. She starts by checking diff stats between the branch (&lt;code class=&quot;language-text&quot;&gt;feature/admin-updates&lt;/code&gt;) and &lt;code class=&quot;language-text&quot;&gt;develop&lt;/code&gt; (destination).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git diff feature/admin-updates develop --stats

...

45 files changed, 4085 insertions(+), 590 deletions(-)  &amp;lt;- 😱&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The diff shows a lot of code changes including a bunch of new backend APIs, utilities, data flow changes and UI changes. She looks at commit logs to find out if it all these changes are organized properly.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git log --oneline develop..feature/admin-updates

commit f4f78b319c308600eab015a5d6529add21660dc1
Author: Fred
Date: Fri Jun 11 2018 12:35:23 +0000

admin view updates                     &amp;lt;- 😑😑😑&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Wilma leaves the following review:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;The changes you made seem to be working fine based on a cursory test. However, there are way too many code changes (~4000 lines) in a single commit. This makes it very difficult to review. It might also cause certain issues to be overlooked just by the sheer size of it.

You can (and should) split your code into logically independent commits. Example -
- add API endpoints and tests for billing changes in admin view
- add utilities to validate billing roles for a user
- separate billing and team management sections in team settings
- update UI in team settings view to be design system 3.2 compliant&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that the focus is on breaking down a big change into smaller chunks, identified by a proper commit message. This allows for more effective code reviews and reduces the chances of overlooking errors.&lt;/p&gt;
&lt;p&gt;By providing smaller commits with proper messages you are conveying your mental model of the solution to the reviewer. This reduces friction and ensures that the developer and reviewer are on the same page.&lt;/p&gt;
&lt;h2&gt;4. Changelog&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Daphne, Engineering Manager&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A bugfix release (&lt;code class=&quot;language-text&quot;&gt;4.1.1&lt;/code&gt;) went out yesterday. Daphne wants to know which bugs were fixed and what kind of unplanned code changes were made. She pulls the latest &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt; and runs the following command&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git log --oneline v4.1.0..v4.1.1

c1c29526 Upgrade version to v4.1.1
e7f05736 Fix issue #342               &amp;lt;- #342 of which project?
e8ad9e21 address comments             &amp;lt;- What comments?
e3d84047 fix lint tests               &amp;lt;- Where? What for?
fc6b65de login button bugfix          &amp;lt;- What was the bug?&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These commit messages barely convey what was there in the release. They indicate that a login bug was fixed and issue #342 was resolved. But what were these issues and how were they fixed?&lt;/p&gt;
&lt;p&gt;Also, there are also stray commits like &lt;code class=&quot;language-text&quot;&gt;address comments&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;fix lint tests&lt;/code&gt;. These commits are not independent and do not provide any additional value. Instead, they should be squashed with commits they are modifying.&lt;/p&gt;
&lt;p&gt;Following shows one variant of detailed commit messages which would help Daphne better understand the changes in the version&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;e1b29221 Upgrade version to v4.1.1
e8ad9e33 [GH-342] Fixed issue where header image was not visible in Safari and Internet Explorer
ac6b15ae Fixed an issue where login button was disabled for users on the enterprise plan
   - added e2e tests for this flow
   - added analytics events for login failure&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These messages clearly explain the changes and also get rid of unnecessary messages. Anyone going through this can easily obtain an overview of the changes in a specific version. This comes in extremely handy while developing public packages — your consumers know exactly what was changed.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Over time, I have come to think of commit messages as little sticky notes associated with my code which provide readers with much needed context. The next time they look at my code and scream “Why?”, in disbelief, I hope my commit message can placate them.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Building highly customizable React components]]></title><description><![CDATA[Building a React web application, for the most part, is writing components which combine to form your user interface. But there are certain…]]></description><link>https://ankit-m.github.io/building-highly-customizable-react-components/</link><guid isPermaLink="false">https://ankit-m.github.io/building-highly-customizable-react-components/</guid><pubDate>Sat, 20 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Building a React web application, for the most part, is writing &lt;a href=&quot;https://reactjs.org/docs/glossary.html#components&quot;&gt;components&lt;/a&gt; which combine to form your user interface. But there are certain components which are reused across your entire application — Button, Link, Dropdown, Tooltip, etc.&lt;/p&gt;
&lt;p&gt;For larger projects, all these components reside in a common style guide. You pick up components from the style guide and use it wherever you want. These are just like any other React components, but they need to have one special feature — &lt;strong&gt;customizability&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;No matter how strict the design guidelines are, you cannot expect the same type of button to be used everywhere. There will be some changes required based on the context. The problem becomes even more pronounced, if you are building a separate module for a component (&lt;a href=&quot;https://github.com/ankit-m/react-16-dropdown&quot;&gt;react-16-dropdown&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Customizability allows them to be modified, both visually and functionally, to fit in various use cases. This article outlines certain ways to make your React component highly customizable. Throughout this guide, I will use a Dropdown component to illustrate examples.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; You do not need to build all your components to be so customizable. Components which you know will not be used anywhere else, can be simple.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;1. Define boundaries&lt;/h2&gt;
&lt;p&gt;First of all, you should to determine the &lt;strong&gt;expectation&lt;/strong&gt; from your component. Try to answer questions like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What is the use of your component?&lt;/li&gt;
&lt;li&gt;What is the input?&lt;/li&gt;
&lt;li&gt;What is the output?&lt;/li&gt;
&lt;li&gt;Does the component have any side effects?&lt;/li&gt;
&lt;li&gt;What are the dependencies?&lt;/li&gt;
&lt;li&gt;What is the component &lt;em&gt;NOT&lt;/em&gt; supposed to do?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At the end of this exercise, you should have a black box representation of your component.&lt;/p&gt;
&lt;figure&gt;
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/82f0d215a1aecc333ad60560e6bb90a2/2cefc/component-diagram.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVQoz22SW0gUcRTGz7rWixAiIgaBlkFvRUH1kA9FL4pbaonlaouKie5qriZkmdoFMpJyX3LRiEQtSd019qLuzt5mZuc+szOzV7u8RvQQZUFaSf8YiYLo4Xs5B77zOx8fYDiti1CcXhNO8/ogyWYRrKiTlCRwkloix9NmTlJbJCXZLirJWofHn+3w+CEc5SBIMH9FsuDFcIDA7wEWof4sEdrMiqkpYEXlnJLIoCgrfhHkOIrFU/EFtz/HNjED379t6BBC8K8Aw+l9IZKpCRKMIUSy1QGCOXa0qlVvHbgH41Nz22adnh2Tc+7Cx7OLBTPzrpypeZduY/0r/M9sy5Dm5SGajyGKkz4zgowYUQlWXuzLG7w/kdfcPQhN1gE4dNwAFXWtUG+5CkoiDSQj2mLxVFhOpL1yIr0sqSmPqCSjJCt2wvMXyztXwtEjGM4c9IWpw4tLgRLt0ugTR05ZXVtxmbHdXG40XyoztlsNFzpq1WQGcIpXCZpHrCBrcSBRTqD0yzeIj8UngWCEoQjFIZzm10hGQAQjBM+29eePPXXtqmzs6q1puYxMnf2o3tyHTps6Px2rbimg+BirGRKMsEHQ/A9eUtdTq68RJ6ljsBTA9/tCZBMWoc5jEcq0EiJPVjT2bLc/8+RWNFhOnDJ1+M40W51VjV3LhgaLHQD0rKgI4SiLNBBR2aL7mVp9pRE+gignmWg+RlOc5GYEOUIL8kitZSD3+sh4fnPvbTBfuwsj9mm48WAC9pZWawDaV0E+Ft9UkpmPSiK9piYzH+KpVS1/m9YnI07xoTDJLhCMsIJT/J3cA+XZ9mlHVqnBCK19w7orww+h55ZN131zVPf23Xtw+cKFSwFit9OLFTm9WPGC21/k8Pj3zDq9eb8An5W6NYfbZ7MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;Simplified black box representation for your component&quot; title=&quot;Simplified black box representation for your component&quot; src=&quot;/static/82f0d215a1aecc333ad60560e6bb90a2/f058b/component-diagram.png&quot; srcset=&quot;/static/82f0d215a1aecc333ad60560e6bb90a2/c26ae/component-diagram.png 158w,
/static/82f0d215a1aecc333ad60560e6bb90a2/6bdcf/component-diagram.png 315w,
/static/82f0d215a1aecc333ad60560e6bb90a2/f058b/component-diagram.png 630w,
/static/82f0d215a1aecc333ad60560e6bb90a2/40601/component-diagram.png 945w,
/static/82f0d215a1aecc333ad60560e6bb90a2/78612/component-diagram.png 1260w,
/static/82f0d215a1aecc333ad60560e6bb90a2/2cefc/component-diagram.png 1400w&quot; sizes=&quot;(max-width: 630px) 100vw, 630px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
  &lt;figcaption&gt;Simplified black box representation for your component&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Having a well defined boundary allows you to make architectural decisions as well assumptions about the usage.&lt;/p&gt;
&lt;h2&gt;2. Simple use case first approach&lt;/h2&gt;
&lt;p&gt;Always try to make the component easy to start off with — minimum or no input from the consumer. It should solve the simplest use case as quickly as possible. In case of the dropdown, following is the simplest usage-&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ‘opt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;’&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;’opt &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;’&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Dropdown options&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This makes it easy for consumers who are &lt;em&gt;prototyping&lt;/em&gt; or &lt;em&gt;evaluating&lt;/em&gt; your component for further use. It is also very helpful for beginners to start off.&lt;/p&gt;
&lt;p&gt;Ensure that the installation process is &lt;em&gt;straightforward&lt;/em&gt; and &lt;em&gt;standard&lt;/em&gt;. You should NOT expect the consumer to make exceptions or add &lt;em&gt;polyfills&lt;/em&gt; to use your component.&lt;/p&gt;
&lt;h2&gt;3. Basic customization&lt;/h2&gt;
&lt;p&gt;Consumers will expect you to support simple changes to your component out of the box. For example, it is common for any interactive element to support a &lt;code class=&quot;language-text&quot;&gt;disabled&lt;/code&gt; prop.&lt;/p&gt;
&lt;p&gt;To find out these basic customization options, I find it easy to think of changes in two broad categories -&lt;/p&gt;
&lt;h3&gt;3.1 Functionality changes&lt;/h3&gt;
&lt;p&gt;These affect the way your component behaves. Think carefully about what changes you want the consumer to make. You may not need to support functionality changes for simple components, but it might make sense for complex components — &lt;code class=&quot;language-text&quot;&gt;Select&lt;/code&gt; dropdown component can support a &lt;code class=&quot;language-text&quot;&gt;multiselect&lt;/code&gt; prop which allows for multiple choices.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use your black box representation to identify the functionality changes needed.&lt;/li&gt;
&lt;li&gt;For each functionality change identify if it is the responsibility of the component to implement or that of the consumer.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3.2 Style changes&lt;/h3&gt;
&lt;p&gt;These affect the way your component looks. You cannot make any assumptions about the styles and give the consumer maximum freedom to change it.&lt;/p&gt;
&lt;p&gt;Following are a few strategies to make your component easy to style-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simple props: Support optional props like size, align, disabled which will allow consumers to make quick adjustments.&lt;/li&gt;
&lt;li&gt;CSS classes: If your code is styled purely using classes, consumers can simply override the class rules. Ensure that your class names are intuitive and easy to understand.&lt;/li&gt;
&lt;li&gt;Avoid &lt;code class=&quot;language-text&quot;&gt;!important&lt;/code&gt; and multiple &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors#Combinators&quot;&gt;combinators&lt;/a&gt; in your CSS. It is very difficult to override something like &lt;code class=&quot;language-text&quot;&gt;.dropdown &amp;gt; .option &amp;gt; button &amp;gt; span&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;4. Renderers and Components&lt;/h2&gt;
&lt;p&gt;The goal is to make it very easy for consumers to adapt the component for their use case. In most cases, these changes are UI changes — changing the appearance, adding different styles, etc. In order to achieve this, I split the building blocks into components and renderers.&lt;/p&gt;
&lt;p&gt;For dropdown, following are the building blocks:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Option&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;OptionComponent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;OptionRenderer&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Trigger&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;TriggerComponent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;TriggerRenderer&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Menu&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;MenuComponent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;MenuRenderer&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4.1 Renderer&lt;/h3&gt;
&lt;p&gt;The renderer only cares about how the component looks and other items which need to be displayed. This has all the CSS classes attached and accepts the bare minimum props required for display. If a user wants to use their custom component, they can simply pass the custom renderer as a prop.&lt;/p&gt;
&lt;h3&gt;4.2 Component&lt;/h3&gt;
&lt;p&gt;These handle the business logic for the particular block — event handlers, refs, roles, etc. These are just containers and do not have any styles. This abstracts away the working logic from rendering and consumers can simply swap out renderers without affecting the functionality. Advanced consumers, who want complete control, can replace this component and handle everything themselves.&lt;/p&gt;
&lt;p&gt;This splitting allows for quicker changes and promotes modular code, improving the testability of your code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * Default trigger renderer - Displays a plain button
 * with label
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TriggerRenderer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;trigger-renderer&quot;&lt;/span&gt; disabled&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;disabled&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * Default trigger component - Renders a div with
 * all the handlers
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Trigger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Renderer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; TriggerRenderer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;triggerRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; role&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;button&quot;&lt;/span&gt; onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Renderer disabled&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;disabled&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * Consumer of the component can swap out either the renderer or
 * the complete component
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Parent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; TriggerElement &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;triggerComponent &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; Trigger&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TriggerElement &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; renderer&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;triggerRenderer&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Changing the renderer is simply passing a presentational component&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Some might not prefer this splitting as it might create extra HTML tags. If that worries you so much, then you can simply allow to replace the entire component.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;5. Custom props&lt;/h2&gt;
&lt;p&gt;Your component will render certain HTML elements. These elements will have attributes which you programmed for.&lt;/p&gt;
&lt;p&gt;You should also allow the consumer to pass in custom props for these HTML elements. This can be useful for someone who wants to add additional event handlers or tags like aria which you might not have included out of the box.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Trigger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div
      onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;…props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customTriggerProps&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      Text
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;6. Lightweight&lt;/h2&gt;
&lt;p&gt;One of the biggest hurdle for adopting a third party React component is its bundle size. If your component adds 40kB as compared a few kBs if custom built, then there is a high chance that your component might lose out — even if it provides better functionality.&lt;/p&gt;
&lt;p&gt;A few strategies to keep your output bundle size low:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Minify and/or uglify the production output file.&lt;/li&gt;
&lt;li&gt;Make sure that all parent requirements like React and ReactDOM are listed in &lt;code class=&quot;language-text&quot;&gt;peerDependencies&lt;/code&gt; in your &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; file.&lt;/li&gt;
&lt;li&gt;If your component has a lot of variants/sub-components, allow for partial imports — &lt;code class=&quot;language-text&quot;&gt;import subComp from package/subComp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Keep the number of third-party libraries you depend on to a minimum.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;7. Accessibility&lt;/h2&gt;
&lt;p&gt;In modern web applications, just achieving functionality isn’t enough. You also need to take special care for accessibility.&lt;/p&gt;
&lt;h3&gt;7.1 Keyboard&lt;/h3&gt;
&lt;p&gt;Your component should be usable by keyboard. This means using the correct type of HTML tags (i.e. button and a for interactive elements) and handling focus in case of custom widgets.&lt;/p&gt;
&lt;p&gt;You can also decide to handle keyboard events yourself within JavaScript. You might miss out on default browser behaviour and other benefits which come along with keyboard focus.&lt;/p&gt;
&lt;h3&gt;7.2 Screen reader&lt;/h3&gt;
&lt;p&gt;For people who use screen readers, it is crucial that your component add additional information for them to use. This includes using alt, role, aria and other attributes. Refer the &lt;a href=&quot;https://reactjs.org/docs/accessibility.html&quot;&gt;accessibility guide&lt;/a&gt; in the React documentation for further information.&lt;/p&gt;
&lt;h2&gt;8. Resist non-standard syntax&lt;/h2&gt;
&lt;p&gt;It is very tempting to use modern JavaScript syntax and make your code look pretty and concise. This might not be a good a idea for various reasons —&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Browser support &amp;#x26; transpiling: Older browsers do not support the latest syntax and you would need to transpile your code for compatibility.&lt;/li&gt;
&lt;li&gt;Bundle size: Transpiling will increase your bundle size and may have a detrimental effect of on the performance.&lt;/li&gt;
&lt;li&gt;Consumer limitation: Assuming support for modern syntax/features may prevent certain developers from using your component who do not have the same luxury and need to be compatible with older browsers.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;9. Enforcing certain usage&lt;/h2&gt;
&lt;p&gt;It is easy for usage anti-patterns to creep in when a library is consumed by people who do not know how and why it was built. As a developer, your job is to convey this information and enforce proper usage —&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Component design: Let’s take the dropdown example. You can choose to pass options as an array of objects or as children&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Method 1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ‘opt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;’&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;’opt &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;’&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Dropdown options&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;// Method 2&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Dropdown&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Option id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;opt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Option&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Option id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;opt &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Option&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Dropdown&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Your code might only expect &lt;code class=&quot;language-text&quot;&gt;Option&lt;/code&gt; to be passed as children but, &lt;em&gt;Method 2&lt;/em&gt; might create a false expectation for the consumer that they can pass anything and the component might break. An anti-pattern usage could be -&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Anti-pattern usage which might break your component&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Dropdown&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘section&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Option id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;opt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Option&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Option id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;opt &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Option&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘section &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Option id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;opt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Option&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Option id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;‘&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;’&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;opt &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Option&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Dropdown&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should be able to determine the best way to use your component and enforce that by the way you design your component.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proptypes: &lt;a href=&quot;https://reactjs.org/docs/typechecking-with-proptypes.html#proptypes&quot;&gt;React proptypes&lt;/a&gt; are a great way to typecheck the props your component accepts and prevent basic mistakes made by consumers.&lt;/li&gt;
&lt;li&gt;Documentation: This is one the easiest way to convey information to consumers. It is crucial to highlight &lt;strong&gt;what&lt;/strong&gt; is the purpose component along with usage examples.&lt;/li&gt;
&lt;li&gt;Test cases provide a good reference point to consumers for what and what not to do.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Overall, I have tried to highlight a few ways to build customizable components in React. However, how much customization to offer depends on the use case and problem you are trying to solve. You should evaluate and pick what makes sense for you.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[UI Testing with Puppeteer and Mocha - Part 1]]></title><description><![CDATA[1. Introduction 🤝 If you have ever built a web app, you know the pain of testing the entire application every time you add a new feature…]]></description><link>https://ankit-m.github.io/ui-testing-with-puppeteer-and-mocha/</link><guid isPermaLink="false">https://ankit-m.github.io/ui-testing-with-puppeteer-and-mocha/</guid><pubDate>Tue, 21 Nov 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;1. Introduction 🤝&lt;/h2&gt;
&lt;p&gt;If you have ever built a web app, you know the pain of testing the entire application every time you add a new feature. Yes, you just modified one isolated module of the code and it _should not_affect anything else. But there a tiny sliver of doubt in a dark corner of your mind, “What if it broke something?”.&lt;/p&gt;
&lt;p&gt;To remove this doubt, you spend quite a lot of time testing all other flows to make sure you did not accidentally break anything &lt;em&gt;major&lt;/em&gt;. There is always a chance of you missing edge cases. So you go ahead and deploy with the hope that nothing breaks. By no means, is this a reliable way of testing. But we still do it. The only way to get rid of this unreliability is to write tests which verify your flows viz. &lt;strong&gt;UI Testing&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;This series is an attempt to get you started with UI testing using &lt;strong&gt;puppeteer&lt;/strong&gt; and &lt;strong&gt;mocha&lt;/strong&gt;. It starts from scratch and assumes basic knowledge of JavaScript. Part 1 deals with setting up and getting started with puppeteer.&lt;/p&gt;
&lt;h2&gt;2. The Toolkit 🎒&lt;/h2&gt;
&lt;h3&gt;2.a Mocha&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://mochajs.org/&quot;&gt;Mocha&lt;/a&gt; is a JavaScript testing framework. It provides a lot of methods like &lt;code class=&quot;language-text&quot;&gt;describe&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;it&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt;, etc. to organise your tests. It provides both command line and programmatic utilities to execute the tests.&lt;/p&gt;
&lt;h3&gt;2.b Chai&lt;/h3&gt;
&lt;p&gt;Mocha by itself is not of much help to us. You need an assertion library with it to actually test things. We will use &lt;a href=&quot;http://chaijs.com/&quot;&gt;ChaiJS&lt;/a&gt; throughout this series. There are other options like expect.js, should.js, etc.&lt;/p&gt;
&lt;h3&gt;2.c Puppeteer&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/GoogleChrome/puppeteer&quot;&gt;Puppeteer&lt;/a&gt; is a node wrapper around &lt;a href=&quot;https://developers.google.com/web/updates/2017/04/headless-chrome&quot;&gt;headless Chrome&lt;/a&gt; which started shipping with Chrome 59 (For Windows Chrome 60). It provides a lot of convenient methods to access and manipulate DOM, cookies, requests, etc.&lt;/p&gt;
&lt;p&gt;We will use these APIs to access the rendered UI elements and run assertions on them to check if things are working as expected.&lt;/p&gt;
&lt;h2&gt;3. Basic testing setup 🐣&lt;/h2&gt;
&lt;p&gt;Open your terminal and create a new project. You need Node installed on your computer which will expose a &lt;code class=&quot;language-text&quot;&gt;node&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; command. I recommend using &lt;a href=&quot;https://github.com/creationix/nvm&quot;&gt;nvm&lt;/a&gt; to manage node versions. This series uses Node &lt;code class=&quot;language-text&quot;&gt;v8.9.1&lt;/code&gt; and npm &lt;code class=&quot;language-text&quot;&gt;v5.5.1&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; puppeteer-mocha
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; puppeteer-mocha
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; init —yes
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i —save mocha@4.0.1 puppeteer@0.13.0 chai@4.1.2 http-server@0.10.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;All packages are suffixed with versions to make this future proof. You can skip them if you want. We install &lt;code class=&quot;language-text&quot;&gt;http-server&lt;/code&gt; to start a basic http server for testing. If you already have a server running with a website, you can simply use that.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now we will create&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add &lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt; folder which will contain all the test files&lt;/li&gt;
&lt;li&gt;Add &lt;code class=&quot;language-text&quot;&gt;src&lt;/code&gt; folder which house our test website&lt;/li&gt;
&lt;li&gt;Add npm scripts for starting our server and running tests&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;test&lt;/span&gt; src
&lt;span class=&quot;token function&quot;&gt;touch&lt;/span&gt; test/sample.spec.js
&lt;span class=&quot;token function&quot;&gt;touch&lt;/span&gt; src/index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To start off, we will create a very basic website which we can test. Here is what &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; looks like.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Puppeteer Mocha&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Page Title&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;main-content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Some paragraph text&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now add the following two scripts to your package.json . The test script tells mocha to execute all files in the folder test . The recursive option tells it to go inside directories, if any, and get files. The server script serves your index.html on &lt;a href=&quot;http://127.0.0.1:8080/&quot;&gt;http://127.0.0.1:8080&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;...
&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mocha --recursive test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;server&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http-server src&quot;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, let’s add a sample test to check if everything is working as expected. Add the following code to &lt;code class=&quot;language-text&quot;&gt;sample.spec.js&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;chai&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sample test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should work&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now run &lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt; and you should see an output like this -&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sample test
  ✓ should work&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. Bringing in Puppeteer 🚂&lt;/h2&gt;
&lt;p&gt;We want to start one instance of the browser (headless Chrome in this case) and reuse the same instance to run all our tests. Each test will open a new tab, browse to the URL, run tests against the view and then close the tab. We will do all the setup in &lt;code class=&quot;language-text&quot;&gt;test/bootstrap.js&lt;/code&gt; and expose required variables to be used across tests.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; puppeteer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;puppeteer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;chai&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lodash&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; globalVariables &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;global&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;browser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;expect&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// puppeteer options&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; opts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  headless&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  slowMo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  timeout&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// expose variables&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; expect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; puppeteer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;opts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// close browser and reset global variables&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; globalVariables&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; globalVariables&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; block is responsible to setup everything required for all the tests. It will execute once before all tests. It exposes the &lt;code class=&quot;language-text&quot;&gt;browser&lt;/code&gt; instance and &lt;code class=&quot;language-text&quot;&gt;expect&lt;/code&gt; function so that we don’t have to require it in all the test files. The &lt;code class=&quot;language-text&quot;&gt;after&lt;/code&gt; block cleans up the environment, once all tests are completed. I have also used &lt;a href=&quot;https://lodash.com/&quot;&gt;Lodash&lt;/a&gt; for some convenience methods.&lt;/p&gt;
&lt;p&gt;The important things to note are &lt;code class=&quot;language-text&quot;&gt;puppeteer.launch&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;opts&lt;/code&gt;. As the name suggests, &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; starts a chrome browser based on the options provided.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I have turned off the headless mode with &lt;code class=&quot;language-text&quot;&gt;headless: false&lt;/code&gt;. This will open a Chromium window when you run the test.&lt;/li&gt;
&lt;li&gt;Added timeout of 10 seconds (any test taking longer than that will fail)&lt;/li&gt;
&lt;li&gt;Slowed down each operation by &lt;code class=&quot;language-text&quot;&gt;100ms&lt;/code&gt;. This is not required right now, but comes in handy when you want to see what is happening in the browser.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You need to tweak your test script a little&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;...
&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mocha test/bootstrap.js --recursive test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We will now update &lt;code class=&quot;language-text&quot;&gt;test/sample.spec.js&lt;/code&gt;. To do something with this browser instance exposed. To check, we just log the browser version.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// test/sample.spec.js&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sample test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should work&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, when you run &lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt;. You should see the Chrome version logged. The version might differ for you as puppeteer installs the latest version of Chromium available.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sample test
Chrome/64.0.3264.0
   ✓ should work (103ms)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;4.a Without using async/await&lt;/h3&gt;
&lt;p&gt;For many reasons you might not prefer to use async/await syntax. You can achieve the exact same by just using promises. Since most puppeteer functions return promises, all you have to do is wait for them to resolve. The mocha &lt;code class=&quot;language-text&quot;&gt;done&lt;/code&gt; method comes in handy.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// test/sample.spec.js&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sample test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should work&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;be&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// test/bootstrap.js&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; puppeteer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;puppeteer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;chai&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lodash&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; globalVariables &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;global&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;browser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;expect&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// puppeteer options&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; opts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  headless&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  slowMo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  timeout&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// expose variables&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; expect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  puppeteer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;opts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;browser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; browser&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// close browser and reset global variables&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; globalVariables&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; globalVariables&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I prefer using &lt;code class=&quot;language-text&quot;&gt;async/await&lt;/code&gt; as it looks cleaner and is much more readable, especially for more complex tests.&lt;/p&gt;
&lt;p&gt;You can view the code at this stage &lt;a href=&quot;https://github.com/ankit-m/puppeteer-mocha/tree/integrate-puppeteer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;5. Writing your first UI test 🚀&lt;/h2&gt;
&lt;p&gt;Now that we have set things up, it’s time to write tests. This is how our webpage looks right now. Pretty boring! I agree.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/be398e4d11f4d84febc5e9758989246b/3508d/web-page.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.658227848101264%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQI12P4+/fvP3IBw38KAEWaAfQ1sw44O0WVAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Sample web page&quot;
        title=&quot;Sample web page&quot;
        src=&quot;/static/be398e4d11f4d84febc5e9758989246b/f058b/web-page.png&quot;
        srcset=&quot;/static/be398e4d11f4d84febc5e9758989246b/c26ae/web-page.png 158w,
/static/be398e4d11f4d84febc5e9758989246b/6bdcf/web-page.png 315w,
/static/be398e4d11f4d84febc5e9758989246b/f058b/web-page.png 630w,
/static/be398e4d11f4d84febc5e9758989246b/40601/web-page.png 945w,
/static/be398e4d11f4d84febc5e9758989246b/78612/web-page.png 1260w,
/static/be398e4d11f4d84febc5e9758989246b/3508d/web-page.png 3316w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We want to test the following things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The page title is “Puppeteer Mocha”&lt;/li&gt;
&lt;li&gt;The heading is “Page Title” (Sorry for the confusing heading)&lt;/li&gt;
&lt;li&gt;There is a paragraph with “Some paragraph text” in it&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Puppeteer has a lot of classes like Page, Frame, Request, etc. Each of these classes provide helper methods to access and interact with the page content. The usual workflow is to open the page, wait for a selector and then validate the content once the selectors resolve. This is how basic tests look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// test/sample.spec.js&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sample test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;newPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;goto&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:8080&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should have the correct page title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Puppeteer Mocha&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should have a heading&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;HEADING_SELECTOR&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;h1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; heading&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;waitFor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;HEADING_SELECTOR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    heading &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$eval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;HEADING_SELECTOR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;heading&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; heading&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;heading&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Page Title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should have a single content section&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;BODY_SELECTOR&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.main-content&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;waitFor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BODY_SELECTOR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BODY_SELECTOR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There is a lot going on in this spec file. Let’s look at it one by one.&lt;/p&gt;
&lt;p&gt;We first open a new page in the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; block and navigate to &lt;a href=&quot;http://localhost:8080./&quot;&gt;http://localhost:8080.&lt;/a&gt; This is equivalent to you opening a new tab in chrome, typing the URL and pressing enter. Since, the variable page is defined in the &lt;code class=&quot;language-text&quot;&gt;describe&lt;/code&gt; block, all &lt;code class=&quot;language-text&quot;&gt;it&lt;/code&gt; blocks (specs) have access to the page. This allows us to segregate our tests and make them more readable.&lt;/p&gt;
&lt;p&gt;The first test simply checks the page title and expects it to be equal to “Puppeteer Mocha”.&lt;/p&gt;
&lt;p&gt;The second test checks for the heading. &lt;code class=&quot;language-text&quot;&gt;page.$eval&lt;/code&gt; takes two arguments &lt;code class=&quot;language-text&quot;&gt;selector&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;pageFunction&lt;/code&gt;. It runs a &lt;code class=&quot;language-text&quot;&gt;document.querySelector&lt;/code&gt; in the browser environment and passes the result to the &lt;code class=&quot;language-text&quot;&gt;pageFunction&lt;/code&gt;. Finally, it resolves with the value returned by &lt;code class=&quot;language-text&quot;&gt;pageFunction&lt;/code&gt;. In this case, we are just returning the text for &lt;code class=&quot;language-text&quot;&gt;h1&lt;/code&gt; tag.&lt;/p&gt;
&lt;p&gt;The third test checks for the existence of just one element with class &lt;code class=&quot;language-text&quot;&gt;main-content&lt;/code&gt;. The &lt;code class=&quot;language-text&quot;&gt;page.$$&lt;/code&gt; expects only the selector as a parameter. It runs a &lt;code class=&quot;language-text&quot;&gt;document.querySelectorAll&lt;/code&gt; in the browser environment and returns an array of &lt;code class=&quot;language-text&quot;&gt;elementHandle&lt;/code&gt;. You can imagine &lt;code class=&quot;language-text&quot;&gt;elementHandle&lt;/code&gt; as a wrapper around an HTML element with helper functions which make it easier to interact and test them.&lt;/p&gt;
&lt;p&gt;You can view the code at this stage &lt;a href=&quot;https://github.com/ankit-m/puppeteer-mocha/tree/basic-tests&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;6. Conclusion 💯&lt;/h2&gt;
&lt;p&gt;In this part we have barely scraped the surface of puppeteer. I hope you have gotten a feel of UI testing. Over the next parts, we will dive deep into testing complex webpages and interactions.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Kya Banau Chotu? (What should I make kiddo?)]]></title><description><![CDATA[Translation: What should I make kiddo? To this day I hear the Gupta Paani Puri waala, ask me this when he sees me at his shop. For the past…]]></description><link>https://ankit-m.github.io/kya-banau-chotu/</link><guid isPermaLink="false">https://ankit-m.github.io/kya-banau-chotu/</guid><pubDate>Mon, 07 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Translation: What should I make kiddo?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To this day I hear the Gupta Paani Puri waala, ask me this when he sees me at his shop. For the past 15 years my family, my family has been one of their regular customers. To say that we love food, would be an understatement. We worship food. Been brought up in such a family, it was essential for me to frequent eateries and other food joints. I have been doing this holy pilgrimage since then - Gupta Paani Puri, Vivek Dosa, Mamta Farsaan and Snacks and Tulsi Vihar restaurant. The one thing common about these places - they all, still, call me Chotu.&lt;/p&gt;
&lt;p&gt;I don’t know from which angle I still look Chotu - neither height wise not width wise. But still they prefer to call me Chotu and this gives a lot benefits. You talk to people, get to know their lives and more importantly you make friends with people who feed you tasty food. Following are two the shops I love.&lt;/p&gt;
&lt;h3&gt;Gupta Paani Puri&lt;/h3&gt;
&lt;p&gt;For all those who don’t know what a Paani Puri is - it is &lt;strong&gt;NOT&lt;/strong&gt; what third counter serves you. It is not something served anywhere in Gujarat, or for that matter India. All those are just fake Paani Puris - some call them Gol Gappas. They are basically like all the Samsungs and the Sonys phones. What Gupta uncle serves is real Paani Puri. You have them and then let the taste awe you.&lt;/p&gt;
&lt;p&gt;You would have all these people who come and ask for teekha paani puri. I don’t know why they like to torture themselves, but they do. Within moments of having the first puri you would see their lips getting red and eyes a little watery. But that wouldn’t stop them. They would go on till six puris and burn their tongue away. Then ask for a masala puri - how can you not ask for a FREE masala puri. I have always tried to figure out why people do this, but could never do it.&lt;/p&gt;
&lt;p&gt;In all this I would come to Gupta uncle, and before I can say a word he would say, “Arey chotu, kaise ho? Kya banau? Medium bhel, kum teekha?“. To that I would nod and my bhel was on its way. He would ask me about my college, talk politics, talk cricket and ask if I want something for my parents. I get an extra masala puri, priority service and the same love that the 5 year old me got when I went to eat the bhel (that time it costed 8 rupees).&lt;/p&gt;
&lt;h3&gt;Vivek Dosa&lt;/h3&gt;
&lt;p&gt;This guy is a rockstar in my locality. Just walk around his shop on a weekend evening and you would see people pouring in like bees. He and his team of four manage them with ruthless efficiency. Three coal fired iron plates have dosas tossed in and out within seconds. The pipelining and the throughput would embarrass Tomasulo - didn’t get that? Read up on Tomasulo’s scheduling.&lt;/p&gt;
&lt;p&gt;The special services for me include, my favourite Onion Utappa which is made just for me, if I arrive early. I have reached there at 6.30 pm to have that Utappa, while he is setting up his shop. We would talk, mostly in Marathi and wait till the Utappa was on the plate. I have tried every dosa on his menu, and my favourite, as the name suggests, Dilkhush is just heavenly.&lt;/p&gt;
&lt;p&gt;For over 15 years, I have been eating in their shops and they know my eating habits more than I do myself. Whenever I go back, they make it a point to ask me about my life and how I have been keeping. I feel privileged to have their love and being called Chotu.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Brahmastra called Materialize]]></title><description><![CDATA[The Brahmastra, described in the Mahabharata, is a weapon which is said to be a single projectile charged with all the power of the universe…]]></description><link>https://ankit-m.github.io/brahmastra-called-materialize/</link><guid isPermaLink="false">https://ankit-m.github.io/brahmastra-called-materialize/</guid><pubDate>Sun, 06 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;The Brahmastra, described in the Mahabharata, is a weapon which is said to be a single projectile charged with all the power of the universe.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As an Indian student I have always been told that no matter how much you evade, you will have to study mathematics. Many years down the line, I will tell my kids -&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;No matter how much you evade, you will have to make websites.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yes, you will have to. It might be your personal blog and your coding feats do not allow you stoop low to the mediocrity of &lt;strong&gt;Wordpress and Blogspot&lt;/strong&gt;. Or it might be an event which you are hosting and you do not have deep pockets (one reason might be that you did not learn web development, but that too is underpaid nowadays) to hire web developers.&lt;/p&gt;
&lt;p&gt;In such times of dire need, &lt;code class=&quot;language-text&quot;&gt;materializecss&lt;/code&gt; comes to your rescue. All you need to know is the bare minimum HTML and CSS. Also, how to fill in the blanks. That’s pretty much all you need. It gives you the beautiful and elegant Google’s Material Design - all ready made.&lt;/p&gt;
&lt;p&gt;Materialize is a front-end framework based on Material design. It has pre-built components and modules. All you have to do, is include the library and start using the components. This will not make you good at web development, but will definitely get your work done. If you are feeling adventurous, you might as well go ahead and develop full fledged websites and web applications using this framework. I have never used it, but you can give it a shot.&lt;/p&gt;
&lt;h1&gt;How to use?&lt;/h1&gt;
&lt;p&gt;The best way to use &lt;code class=&quot;language-text&quot;&gt;materializecss&lt;/code&gt; is to use their &lt;a href=&quot;http://materializecss.com/getting-started.html&quot;&gt;starter templates&lt;/a&gt;. These will get you up and running in seconds. You can then fiddle around and add new components, delete some and learn how things work.&lt;/p&gt;
&lt;p&gt;If you want to work from scratch, for basic purposes, I would suggest using CDN.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Include this in your &lt;code class=&quot;language-text&quot;&gt;head&lt;/code&gt; section. For more advanced usage, there are many usage options available - &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;bower&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ruby gems&lt;/code&gt;, etc.&lt;/p&gt;
&lt;h1&gt;What do I need to know?&lt;/h1&gt;
&lt;p&gt;Are you comfortable copy-pasting? Do you know basic (horrifyingly basic) HTML and CSS? Do you know how to type? Can you search answers in stackoverflow? If your answer is yes to all the above questions, then you are all set to master materializecss. Not that it is a great achievement, but you can churn out beautiful websites in a couple of hours.&lt;/p&gt;
&lt;p&gt;It would help if you know basic JavaScript. It would allow you to understand as to what is happening in the background. But if lethargy prevents you, don’t worry, you can use pretty much the entire library without knowing JavaScript. Just follow the instructions religiously and everything will go smooth.&lt;/p&gt;
&lt;h1&gt;How do I deploy my website?&lt;/h1&gt;
&lt;p&gt;Now read this very carefully. &lt;strong&gt;You do not need to buy a domain name to deploy your website&lt;/strong&gt;. Use Github Pages. This means learn to use &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Github&lt;/code&gt;. Github provides you with a free domain name - &lt;code class=&quot;language-text&quot;&gt;username.github.io&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#code taken from https://pages.github.com/&lt;/span&gt;
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/username/username.github.io
$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; username.github.io
$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello World&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; index.html
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; --all
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&quot;Initial commit&quot;&lt;/span&gt;
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push -u origin master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now go to &lt;code class=&quot;language-text&quot;&gt;http://username.github.io&lt;/code&gt; and you have your Hello world. In this directory add your materialize folder contents and you will have the same website up and running. You can make pages for all of your repositories. You should have an &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; file in you repository. Then&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; checkout -b gh-pages
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; rebase master
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push origin gh-pages&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Your repository page will live on &lt;code class=&quot;language-text&quot;&gt;http://username.github.io/your-repo-name&lt;/code&gt;.&lt;/p&gt;
&lt;h1&gt;I feel like giving back to world, &lt;strong&gt;not by seeding&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;If you are proficient in HTML, CSS and JavaScript, you might as well contribute to their repository. It is a product developed by CMU students. It has huge number of [stars] (&lt;a href=&quot;https://github.com/dogfalo/materialize/&quot;&gt;https://github.com/dogfalo/materialize/&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;I made a couple of websites using the materialize.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tedxdaiict.com/&quot;&gt;TEDxDAIICT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.gdgdaiict.com/&quot;&gt;GDG DAIICT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Web scraping with Python]]></title><description><![CDATA[Scraping the web using python is very easy. There are a lot of libraries available which bootstrap a lot of things for you. This post  and…]]></description><link>https://ankit-m.github.io/web-scraping-with-python/</link><guid isPermaLink="false">https://ankit-m.github.io/web-scraping-with-python/</guid><pubDate>Mon, 20 Jul 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Scraping the web using python is very easy. There are a lot of libraries available which bootstrap a lot of things for you. This post &lt;code class=&quot;language-text&quot;&gt;requests&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;BeautifulSoup&lt;/code&gt; to scrape a university email client (POP is disabled).&lt;/p&gt;
&lt;h3&gt;Basics&lt;/h3&gt;
&lt;p&gt;To get started, we need to understand how the internet works. What happens when you type in google.com in your browser?&lt;/p&gt;
&lt;p&gt;Imagine the internet as a huge wire connecting your computer (client) to another computer (server) sitting some place far away. So to get a website, you have to first ask the server to give you the website. The way client does this is through something called as requests. As the name suggests, it requests the server for something. As soon as the server gets a request it responds with a message.&lt;/p&gt;
&lt;p&gt;There are various types of requests - GET, POST, PUT, DELETE and so on. Each one of them has a specific function. The first request is always a GET request. This asks the server to send the the webpage. The POST request sends some data from the client to the server. We will worry about these two types of requests right now.&lt;/p&gt;
&lt;p&gt;Response: The natural thing for a server to do, when it gets a request is to respond. This response contains headers and data. Headers are extra information needed for other functionalities. It has things like status code, cookies, etc. You can read up more on them to get a detailed idea.&lt;/p&gt;
&lt;p&gt;For our use we just need to know that server responds to a request with data, if it has any. Otherwise it responds with an error. The type of the error is indicated in the status code.&lt;/p&gt;
&lt;h3&gt;Authentication&lt;/h3&gt;
&lt;p&gt;The idea was to scrape university email client and obtain all the email. It is simply one GET request to obtain the login page. Login to any server is usually a POST request with your login credentials. In python, you can use &lt;code class=&quot;language-text&quot;&gt;requests&lt;/code&gt; library to do this.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;getLoginScreen = requests.get(&amp;#39;https://webmail.daiict.ac.in&amp;#39;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;loginRequest = requests.post(&amp;#39;https://webmail.daiict.ac.in/zimbra/&amp;#39;, data={&amp;#39;loginOp&amp;#39;:&amp;#39;login&amp;#39;,&amp;#39;username&amp;#39;: username,&amp;#39;password&amp;#39;:password, &amp;#39;client&amp;#39;: &amp;#39;preferred&amp;#39;})&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;Cookies&lt;/h4&gt;
&lt;p&gt;Many login mechanism use cookies or sessions to authenticate users for a particular period of time. To incorporate this, you would have to set headers and send the cookie data as well. This is where requests library comes to your rescue. It has pre-built sessions which saves you the time of sending cookie data. All you have to do is to create a session and use it to login.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;session = requests.Session()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;getLoginScreen = session.get ..&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;loginRequest = session.post( ..&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now the inbox is one GET request away.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;inbox = session.get(&amp;#39;https://webmail.daiict.ac.in/zimbra/h/search?mesg=welcome&amp;amp;initial=true&amp;amp;app=&amp;#39;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;inbox&lt;/code&gt; variable has the HTML of your inbox. We need to process it to get useful information. We use &lt;code class=&quot;language-text&quot;&gt;BeautifulSoup&lt;/code&gt; for this.&lt;/p&gt;
&lt;h3&gt;BeautifulSoup&lt;/h3&gt;
&lt;p&gt;BeautifulSoup library is beautiful. It takes in HTML code and parses it into python datastructures. Let’s not worry about how BeautifulSoup implements it.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;from bs4 import BeautifulSoup&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;soup = BeautifulSoup(inbox.text, &amp;#39;html.parser&amp;#39;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You can do a lot things with the variable &lt;code class=&quot;language-text&quot;&gt;soup&lt;/code&gt; - find element by id, prettify, sibling, parent and so on. The functions on &lt;code class=&quot;language-text&quot;&gt;soup&lt;/code&gt; allow you to navigate through the DOM tree. Go through the documentation to know more about these functions.&lt;/p&gt;
&lt;p&gt;Note: While printing from python, you may encounter encoding error. You just have to encode the text into utf-8 before printing. Use &lt;code class=&quot;language-text&quot;&gt;string.encode(&amp;#39;utf-8&amp;#39;)&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Using Regex to find useful information&lt;/h3&gt;
&lt;p&gt;After you got the information you need from BeautifulSoup, how do find the data you need? Use regular expressions (Regex). The python library is &lt;code class=&quot;language-text&quot;&gt;re&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;for i in titles:
    title = re.sub(&amp;#39;[\W_]+&amp;#39;, &amp;#39;&amp;#39;, i)
        if title.find(section) &amp;gt; 0:
            print &amp;#39;You have an article: %s&amp;#39; % (i)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above snippet, navigates thorugh the titles of all emails.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;title = re.sub(&amp;#39;[\W_]+&amp;#39;, &amp;#39;&amp;#39;, i)&lt;/code&gt; removes all non-alphanumeric characters and whitespaces from the titles.&lt;/p&gt;
&lt;p&gt;The script I wrote was for the college magazine editors, who had to navigate through all the emails to find a new article submitted to their respective section. So all I had to do was to find their section in the title string. If it is there, then prompt.&lt;/p&gt;
&lt;p&gt;You can find the source code here:&lt;/p&gt;</content:encoded></item></channel></rss>